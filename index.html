<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>贪吃蛇游戏</title>
    <!-- Minecraft字体 -->
    <link href="https://fonts.cdnfonts.com/css/minecraft-4" rel="stylesheet" />
    <link href="./css/snake.css" rel="stylesheet" />
    <script type="text/javascript" charset="utf-8" src="./wasm/game_data.js"></script>
    <script type="text/javascript" charset="utf-8" src="./js/game.js" defer></script>
  </head>

  <body>
    <!-- 游戏结束弹窗 -->
    <div id="minecraftAlert" class="minecraft-modal">
      <div class="minecraft-title">游戏结束!</div>
      <div id="finalScore">得分: 0</div>
      <!-- 用于显示提交后返回的排名信息 -->
      <div id="rankingInfo"></div>
      <!-- 提交区域：输入用户名和提交按钮 -->
      <div id="submitSection">
        <label for="playerName">请输入用户名:</label>
        <input type="text" id="playerName" pattern="[A-Za-z]+" />
      </div>
      <div class="result-btns">
        <button id="submitScore">提交</button>
        <button id="restartBtn" onclick="SnakeGame.restartGame()">重新开始</button>
      </div>
      <p class="submit-error">提交成绩出错，请稍后重试。</p>
      <!-- 排行榜前10展示 -->
      <div id="topRankings">
        <h3>排行榜前10</h3>
        <ul id="rankingList"></ul>
      </div>
    </div>
    <!--游戏暂停弹窗-->
    <div id="game-paused">
      <span>游戏暂停！</span>
    </div>
    <div class="game-container">
      <canvas id="gameCanvas" width="300" height="300"></canvas>
      <div id="gameControls">
        <div id="gameScore">
          <div id="score">得分: 0</div>
          <button id="startBtn">开始游戏</button>
        </div>
        <div class="controls">
          <button id="up" class="control-btn" onclick="SnakeGame.handleButtonInput('up')">↑</button>
          <button id="left" class="control-btn" onclick="SnakeGame.handleButtonInput('left')">←</button>
          <button id="right" class="control-btn" onclick="SnakeGame.handleButtonInput('right')">→</button>
          <button id="down" class="control-btn" onclick="SnakeGame.handleButtonInput('down')">↓</button>
        </div>
      </div>
    </div>
  </body>
</html>
